import{l as p,_ as Kr,b as pt,r as l,f as Jr,u as ot,a as Qr,i as cr,c as dr,R as N,B as $,d as ce,s as ve,e as Zr,p as it,g as at,h as en,j as tn,k as rn,t as nn,w as on,m as qt,n as an,o as sn,q as mt,T as un,v as ln,x as pe,M as cn,A as dn,y as fn,D as gn,z as hn,K as fr,C as pn,E as mn,F as gr,G as vt,H as M,I as hr,J as pr,O as vn,P as Yt,L as yn,N as Sn,Q as bn,S as xn,U as Dn,V as Tn,W as On,X as x,Y as Cn,Z as Ce,$ as wn}from"./index-BWabExiG.js";var In=function(e){var r,n,o,i=[];return e!=null&&(r=e.global.input.readOnly)!=null&&(r=r.border)!=null&&r.color&&i.push(p(["border-color:",";"],Kr(e.global.input.readOnly.border.color,e))),e!=null&&(n=e.global.input.readOnly)!=null&&n.background&&i.push(pt((o=e.global.input.readOnly)==null?void 0:o.background,e)),i},En={},Pn=En,Ge=function(e,r){return e?Math.floor((e+r)/r)-1:0},mr=function(e){var r=e.children,n=e.items,o=n===void 0?[]:n,i=e.onMore,a=e.renderMarker,s=e.replace,u=e.show,c=e.step,d=c===void 0?50:c,f=l.useState(),v=f[0],m=f[1],y=l.useMemo(function(){return Math.max(0,Math.ceil(o.length/d)-1)},[o.length,d]),g=l.useState([0,Ge(u,d)]),h=g[0],C=g[1],D=l.useState([]),w=D[0],R=D[1],Z=l.useState(0),_=Z[0],Y=Z[1],B=l.useRef(),V=l.useRef();l.useEffect(function(){var j,E=function(){if(j){var te=j[0],A,F;if(te===document)A=document.documentElement.scrollTop||document.body.scrollTop,F=window.innerHeight;else{A=te.scrollTop;var X=te.getBoundingClientRect();F=X.height}for(var O=F/4,U=0,re=0,J=w[re]||0;w[re+1]&&J<A-O;)re+=1,U+=1,J+=w[re];for(var se=U;w[re]!==void 0&&J<A+F+O;)re+=1,se+=1,J+=w[re]||0;if(s||(U=0,se=Math.max(h[1],se)),u){var ue=Ge(u,d);U=Math.min(ue,U),se=Math.max(ue,se)}(U!==h[0]||se!==h[1])&&C([U,se])}},P,T=function(){clearTimeout(P),P=setTimeout(E,10)};return V.current&&(j=Jr(V.current),j.forEach(function(L){return L.addEventListener("scroll",T)})),window.addEventListener("resize",T),E(),function(){j&&j.forEach(function(L){return L.removeEventListener("scroll",T)}),window.removeEventListener("resize",T),clearTimeout(P)}},[w,h,s,u,d]),l.useEffect(function(){i&&h[1]===y&&o.length>=_&&o.length>0&&(Y(o.length+1),i())},[o.length,y,i,_,h,d]),l.useEffect(function(){o.length===0&&y===0&&_!==0&&(R([]),Y(0),C([0,Ge(u,d)]))},[y,_,u,d,o.length]),ot(function(){var j=setTimeout(function(){if(u&&V.current&&u!==v){var E=u-h[0]*d+(h[0]?1:0),P=V.current.parentNode.children.item(E);if(P){var T=Qr(P);cr(P,T)?P.scrollIntoView(!0):dr(P,T)&&P.scrollIntoView(!1),m(u)}}},100);return function(){return clearTimeout(j)}},[h,u,d]),ot(function(){if(V.current){var j=V.current.parentNode.children;if((B.current?1:0)+(h[1]-h[0]+1)*d+1===j.length){for(var E,P=h[0],T;P<=h[1];){var L=(B.current?1:0)+(P-h[0])*d,te=Math.min(L+d-1,j.length-1),A=T!==void 0?T:j.item(L).getBoundingClientRect().top,F=j.item(te).getBoundingClientRect(),X=F.bottom,O=X-A;X&&(!w||w[P]!==O)&&(E||(E=[].concat(w||[])),E[P]=O),T=X,P+=1}for(;s&&P<=y;){if(!w[P]&&w[P]!==w[0]){E||(E=[].concat(w||[]));var U=E;E[P]=U[0]}P+=1}E&&R(E)}}},[y,w,h,s,d]);var W=l.useMemo(function(){if(!s)return 0;for(var j=0,E=0;E<h[0];)j+=w[E]||0,E+=1;return j},[w,h,s]),ee=l.useMemo(function(){if(!s)return 0;for(var j=0,E=h[1]+1;E<=y;)j+=w[E]||0,E+=1;return j},[y,w,h,s]),ae=h[0]*d,G=Math.min((h[1]+1)*d,o.length)-1,K=[];if(W){var I=N.createElement($,{key:"above",ref:B,flex:!1,height:W+"px"});a&&(I=N.cloneElement(a(I),{key:"above"})),K.push(I)}if(o.slice(ae,G+1).forEach(function(j,E){var P=ae+E,T=r(j,P);K.push(T)}),s||h[1]<y||i){var de=N.createElement($,{key:"below",ref:!a&&V||void 0,flex:!1,height:(ee||0)+"px"});if(a){var q=a(de);de=N.cloneElement(q,{key:"below",ref:function(E){V.current=E;var P=q.ref;typeof P=="function"?P(E):P!==null&&(P.current=E)}})}K.push(de)}return K};mr.propTypes=Pn;var Rn=function(e){var r=e.value,n=e.initialValue,o=l.useState(r!==void 0?r:n),i=o[0],a=o[1];return[r!==void 0?r:i,function(s){n!==void 0&&a(s)}]},kn=function(e){var r=e.error,n=e.info,o=e.disabled;return{error:r,info:n,disabled:o}},Mn=N.createContext({useFormField:kn,useFormInput:Rn}),Nn=function(e){return e==="full"?p([""," padding:0;"],qt):e&&qt},_n=ce.input.withConfig(ve).withConfig({displayName:"StyledTextInput",componentId:"sc-1x30a0s-0"})([""," "," "," "," "," "," "," "," ",";"],en,function(t){return t.readOnlyCopy?"padding-"+(t.reverse?"left":"right")+": 0px;":""},function(t){return t.readOnly&&"border: none;"},function(t){return Nn(t.plain)},function(t){return t.icon&&tn},function(t){return t.disabled&&rn(t.theme.textInput.disabled&&t.theme.textInput.disabled.opacity)},function(t){return t.textAlign&&nn},function(t){return t.widthProp&&on(t.widthProp,t.theme)},function(t){return t.theme.textInput&&t.theme.textInput.extend}),Ln=ce.div.withConfig(ve).withConfig({displayName:"StyledTextInput__StyledTextInputContainer",componentId:"sc-1x30a0s-1"})(["position:relative;width:100%;",";",";"," ",";"],function(t){return t.readOnlyProp&&!t.plain&&Zr},function(t){return t.readOnlyCopy&&`
    box-sizing: border-box;
    flex-direction: row;
    display: flex;
  `},function(t){return t.readOnlyProp&&!t.plain&&In(t.theme)},function(t){return t.theme.textInput&&t.theme.textInput.container&&t.theme.textInput.container.extend}),jn=ce.div.withConfig(ve).withConfig({displayName:"StyledTextInput__StyledPlaceholder",componentId:"sc-1x30a0s-2"})(["position:absolute;left:","px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;",";"],function(t){return it(at(t,"left"))-it(t.theme.global.control.border.width)},function(t){return t.theme.textInput&&t.theme.textInput.placeholder&&t.theme.textInput.placeholder.extend}),An=ce.div.withConfig(ve).withConfig({displayName:"StyledTextInput__StyledIcon",componentId:"sc-1x30a0s-3"})(["position:absolute;display:flex;justify:center;top:50%;transform:translateY(-50%);pointer-events:none;",""],function(t){return t.reverse?"right: "+at(t,"right")+";":"left: "+at(t,"left")+";"}),zn=ce.ol.withConfig(ve).withConfig({displayName:"StyledTextInput__StyledSuggestions",componentId:"sc-1x30a0s-4"})(["border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;",";"],function(t){return t.theme.textInput&&t.theme.textInput.suggestions&&t.theme.textInput.suggestions.extend}),Fn={},Hn=Fn,Pe={},Wt;function $n(){if(Wt)return Pe;Wt=1,Pe.__esModule=!0,Pe.Copy=void 0;var t=n(an()),e=sn();function r(a){if(typeof WeakMap!="function")return null;var s=new WeakMap,u=new WeakMap;return(r=function(d){return d?u:s})(a)}function n(a,s){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var u=r(s);if(u&&u.has(a))return u.get(a);var c={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&{}.hasOwnProperty.call(a,f)){var v=d?Object.getOwnPropertyDescriptor(a,f):null;v&&(v.get||v.set)?Object.defineProperty(c,f,v):c[f]=a[f]}return c.default=a,u&&u.set(a,c),c}function o(){return o=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var u=arguments[s];for(var c in u)({}).hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a},o.apply(null,arguments)}var i=Pe.Copy=(0,t.forwardRef)(function(a,s){return t.default.createElement(e.StyledIcon,o({ref:s,viewBox:"0 0 24 24",a11yTitle:"Copy"},a),t.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M9 15h8-8zm0-4h10H9zm0-4h4-4zm7-6v6h6M6 5H2v18h16v-4m4 0H6V1h11l5 5v13z"}))});return i.displayName="Copy",Pe}var Bn=$n();function st(){return st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},st.apply(null,arguments)}var Xn=ce(pe).withConfig({displayName:"CopyButton__StyledButton",componentId:"sc-1bp1m18-0"})(["border-radius:",";",""],function(t){return t.theme.global.control.border.radius},function(t){return t.theme.button.default?"":ln("padding",t.pad,!1,void 0,t.theme)}),Un=function(e){var r,n,o,i=e.onClickCopy,a=e.onBlurCopy,s=e.readOnlyCopyPrompt,u=e.tip,c=e.value,d=mt(),f=d.theme,v=d.passThemeFlag;return N.createElement(un,{dropProps:{align:{bottom:"top"}},content:u},N.createElement(Xn,st({onClick:i,icon:N.createElement(Bn.Copy,null),pad:{horizontal:(r=f.global.input.padding)==null?void 0:r.horizontal,left:(n=f.global.input.padding)==null?void 0:n.left,right:(o=f.global.input.padding)==null?void 0:o.right,top:"0",bottom:"0"},onBlur:a,onMouseOut:a,"aria-label":s+" "+c},v)))},Vn=["a11yTitle","defaultSuggestion","defaultValue","dropAlign","dropHeight","dropTarget","dropProps","focusIndicator","icon","id","messages","name","onBlur","onChange","onFocus","onKeyDown","onSelect","onSuggestionSelect","onSuggestionsClose","onSuggestionsOpen","placeholder","plain","readOnly","readOnlyCopy","reverse","suggestions","textAlign","value","width"];function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ge.apply(null,arguments)}function qn(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ke=function(e){return e&&typeof e=="object"?e.label||e.value:e},Gt=function(e){return e&&typeof e=="object"?e.label&&typeof e.label=="string"?e.label:e.value:e},Yn=ce($).withConfig({displayName:"TextInput__ContainerBox",componentId:"sc-1ai0c08-0"})(["",";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}"],function(t){return t.dropHeight?pn("max-height",t.dropHeight,t.theme):"max-height: inherit;"}),Wn={top:"bottom",left:"left"},yt=l.forwardRef(function(t,e){var r,n,o=t.a11yTitle,i=t.defaultSuggestion,a=t.defaultValue,s=t.dropAlign,u=s===void 0?Wn:s,c=t.dropHeight,d=t.dropTarget,f=t.dropProps,v=t.focusIndicator,m=v===void 0?!0:v,y=t.icon,g=t.id,h=t.messages,C=t.name,D=t.onBlur,w=t.onChange,R=t.onFocus,Z=t.onKeyDown,_=t.onSelect,Y=t.onSuggestionSelect,B=t.onSuggestionsClose,V=t.onSuggestionsOpen,W=t.placeholder,ee=t.plain,ae=t.readOnly,G=t.readOnlyCopy,K=t.reverse,I=t.suggestions,de=t.textAlign,q=t.value,j=t.width,E=qn(t,Vn),P=mt(),T=P.theme,L=P.passThemeFlag,te=l.useContext(cn),A=te.format,F=l.useContext(dn),X=l.useContext(Mn),O=fn(e),U=l.useRef(),re=l.useRef(),J=ae||G,se=X.useFormInput({name:J?void 0:C,value:q}),ue=se[0],wt=se[1],It=l.useState(),ye=It[0],Et=It[1],Pt=l.useState(!1),Q=Pt[0],Rt=Pt[1],kt=l.useMemo(function(){return _&&!Y?_:Y},[_,Y]),Fr=l.useMemo(function(){return _&&Y?_:void 0},[_,Y]),Mt=l.useState(),qe=Mt[0],Hr=Mt[1],Ye=A({id:"input.readOnlyCopy.validation",messages:h}),We=A({id:"input.readOnlyCopy.prompt",messages:h}),Nt=l.useState(We),_t=Nt[0],Lt=Nt[1],$r=function(){global.navigator.clipboard.writeText(ue),F(Ye,"assertive"),Lt(Ye)},Br=function(){_t===Ye&&Lt(We)},Ie=l.useCallback(function(){Rt(!0),F(A({id:"textInput.suggestionIsOpen",messages:h})),F(I.length+" "+A({id:"textInput.suggestionsCount",messages:h})),V&&V()},[F,h,A,V,I]),fe=l.useCallback(function(){Hr(I),Rt(!1),B&&B()},[B,I]),Xr=l.useCallback(function(k){k.target!==O.current&&fe()},[O,fe]);l.useEffect(function(){ye&&!Q&&I&&I.length&&(!qe||qe.length!==I.length)&&Ie()},[ye,Ie,Q,I,qe]),l.useEffect(function(){Q&&(!I||!I.length)&&fe()},[fe,Q,I]);var Ee=l.useMemo(function(){return I?I.map(function(k){return typeof k=="object"?k.value:k}).indexOf(ue):-1},[I,ue]),_e=l.useMemo(function(){return Ee===-1&&typeof i=="number"?i:Ee},[i,Ee]),jt=l.useState(_e),H=jt[0],Se=jt[1],At=l.useState(),zt=At[0],Le=At[1];l.useEffect(function(){return Se(Ee)},[Ee]),l.useEffect(function(){Q||Se(_e)},[_e,Q]),l.useEffect(function(){if(H>=0){var k=Gt(I[H]);F(k+" "+A({id:"textInput.enterSelect",messages:h}))}},[H,F,h,A,I]),l.useEffect(function(){var k=setTimeout(function(){var z=re.current;if(Q&&H!==-1&&z){var ne=z.parentNode,le=z.children[H];ne.scrollTo&&(dr(le,ne)?ne.scrollTo(0,le.offsetTop-(ne.getBoundingClientRect().height-le.getBoundingClientRect().height)):cr(le,ne)&&ne.scrollTo(0,le.offsetTop))}},50);return function(){return clearTimeout(k)}},[H,Q]),l.useEffect(function(){J&&O!=null&&O.current&&O.current.scrollLeft>0&&(O.current.scrollLeft=0)},[J,O,O==null||(r=O.current)==null?void 0:r.scrollLeft]);var Ft=function(z,ne){if(O.current.focus(),O.current.value=ne,fe(),kt){z.persist&&z.persist();var le=z;le.suggestion=ne,kt(le)}wt(ne)},Ur=l.useCallback(function(k){k.preventDefault();var z=Math.min(H+1,I.length-1);Se(z),Le(!1)},[H,I]),Vr=l.useCallback(function(k){k.preventDefault();var z=Math.max(H-1,0);Se(z),Le(!1)},[H]),Ht=ue||((n=O.current)==null?void 0:n.value),qr=l.useMemo(function(){return W&&typeof W!="string"&&!Ht},[Ht,W]),$t,Yr={onSelect:Fr};Q&&($t=N.createElement(gn,ge({ref:U,id:g?"text-input-drop__"+g:void 0,align:u,responsive:!1,target:d||O.current,onClickOutside:Xr,onEsc:fe,trapFocus:!1},f),N.createElement(Yn,ge({id:g?"listbox__"+g:void 0,role:"listbox",overflow:"auto",dropHeight:c,onMouseMove:function(){return Le(!0)}},L),N.createElement(zn,ge({ref:re},L),N.createElement(mr,{items:I,step:T.select.step,show:H!==-1?H:void 0},function(k,z,ne){var le=H===z,Wr=k===ue,je=Ke(k),xe;return typeof je!="string"?xe=je:T.button.option||(xe=N.createElement($,{align:"start",pad:"small"},je)),N.createElement("li",{key:Gt(k)+"-"+z,ref:ne},N.createElement(pe,{id:g?"listbox-option-"+z+"__"+g:void 0,role:"option","aria-selected":Wr?"true":"false",active:le,fill:"horizontal",plain:xe?!0:void 0,align:"start",kind:xe?void 0:"option",label:xe?void 0:je,onClick:function(Gr){return Ft(Gr,k)},onMouseMove:zt&&H!==z?function(){return Se(z)}:void 0,keyboard:!zt},xe))})))));var be={onKeyDown:Z};Q?(be.onEnter=function(k){k.preventDefault(),H>=0?Ft(k,I[H]):fe()},H>0&&(be.onUp=Vr),H<I.length-1&&(be.onDown=Ur),be.onTab=fe):I&&I.length>0&&(be.onDown=Ie);var Bt={},Xt;g&&(I==null?void 0:I.length)>-1&&(Q&&H>-1&&(Xt="listbox-option-"+H+"__"+g),Bt={"aria-activedescendant":Xt,"aria-autocomplete":"list","aria-expanded":Q?"true":"false","aria-controls":Q?"listbox__"+g:void 0,role:"combobox"});var Ut=hn(y,E.size,T),Vt=N.createElement(Un,{onBlurCopy:Br,onClickCopy:$r,readOnlyCopyPrompt:We,tip:_t,value:ue});return N.createElement(Ln,ge({readOnlyProp:J,readOnlyCopy:G,plain:ee,border:!ee,onMouseMove:function(){return Le(!0)}},L),K&&G&&Vt,qr&&N.createElement(jn,L,W),Ut&&!J&&N.createElement(An,{reverse:K,theme:T},Ut),N.createElement(fr,ge({target:ye?"document":void 0},be),N.createElement(_n,ge({"aria-label":o,ref:O,id:g,name:C,autoComplete:"off",plain:ee,placeholder:typeof W=="string"?W:void 0,icon:!J&&y,reverse:K,focus:ye,focusIndicator:m,textAlign:de,widthProp:j},L,E,Yr,Bt,{defaultValue:Ke(a),value:Ke(ue),readOnly:J,readOnlyCopy:G,onFocus:function(z){ye||(Et(!0),I&&I.length>0&&(F(A({id:"textInput.suggestionsExist",messages:h})),Ie()),R&&R(z))},onBlur:function(z){(!z.relatedTarget||z.relatedTarget!==U.current)&&(Et(!1),D&&D(z))},onChange:J?void 0:function(k){I&&ye&&!Q&&Ie(),wt(k.target.value),Se(_e),w&&w(k)}}))),!K&&G&&Vt,!J&&$t)});yt.displayName="TextInput";yt.propTypes=Hn;var vr=p(["left:-100%;right:100%;z-index:-1;position:fixed;"]),Gn=`
  position: fixed;
  top: 0px;
  left: 0px;
  right: 0px;
  bottom: 0px;
`,Kn=`
  position: fixed;
  width: 100%;
  height: 100%;
  min-height: 100vh;
`,Jn=ce.div.withConfig(ve).withConfig({displayName:"StyledLayer",componentId:"sc-rmtehz-0"})([""," background:transparent;position:relative;z-index:",";pointer-events:none;outline:none;"," ",";"],gr,function(t){return t.theme.layer.zIndex},function(t){if(t.position==="hidden")return vr;var e=[];if(e.push(Gn),t.responsive&&t.theme.layer.responsiveBreakpoint&&!t.layerTarget){var r=t.theme.global.breakpoints[t.theme.layer.responsiveBreakpoint];e.push(vt(r,Kn))}return e},function(t){return t.theme.layer&&t.theme.layer.extend}),Qn=ce.div.withConfig(ve).withConfig({displayName:"StyledLayer__StyledOverlay",componentId:"sc-rmtehz-1"})(["position:absolute;"," top:0px;left:0px;right:0px;bottom:0px;"," "," pointer-events:all;will-change:transform;"],function(t){if(t.responsive&&t.theme.layer.responsiveBreakpoint){var e=t.theme.global.breakpoints[t.theme.layer.responsiveBreakpoint];return vt(e,"position: relative;")}return""},function(t){return t.theme.layer.overlay.backdropFilter&&"backdrop-filter: "+t.theme.layer.overlay.backdropFilter+";"},function(t){return!t.plain&&t.theme.layer.overlay.background&&pt(t.theme.layer.overlay.background,t.theme)}),he=function(e,r,n){var o=n.indexOf("top")!==-1||n.indexOf("bottom")!==-1?"vertical":"horizontal",i=e[n]||e[o]||e,a=r.global.edgeSize[i]||i,s=!!r.global.edgeSize[i];return!s&&typeof i!="string"?0:it(a)},Re=function(e,r,n,o){return o===void 0&&(o=void 0),o?e[o]+he(r,n,o):{bottom:e.bottom+he(r,n,"bottom"),end:e.right+he(r,n,"end"),left:e.left+he(r,n,"left"),right:e.right+he(r,n,"right"),start:e.left+he(r,n,"start"),top:e.top+he(r,n,"top")}},Zn={center:{vertical:M(["0%{transform:translateX(-50%) scale(0.8);}100%{transform:translateX(-50%) scale(1);}"]),horizontal:M(["0%{transform:translateY(-50%) scale(0.8);}100%{transform:translateY(-50) scale(1);}"]),true:M(["0%{transform:scale(0.8);}100%{transform:scale(1);}"]),false:M(["0%{transform:translate(-50%,-50%) scale(0.8);}100%{transform:translate(-50%,-50%) scale(1);}"])},top:{vertical:M(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"]),horizontal:M(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),true:M(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),false:M(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"])},bottom:{vertical:M(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"]),horizontal:M(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),true:M(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),false:M(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"])},left:{vertical:M(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),horizontal:M(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"]),true:M(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),false:M(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"])},right:{vertical:M(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),horizontal:M(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"]),true:M(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),false:M(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"])},start:{vertical:M(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),horizontal:M(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"]),true:M(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),false:M(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"])},end:{vertical:M(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),horizontal:M(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"]),true:M(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),false:M(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"])}},yr=200,S=function(e,r,n){var o=e.animation!==void 0?e.animation:e.animate;o===void 0&&(o="slide");var i;return o==="slide"||o===!0?i=Zn[r][n]:o==="fadeIn"&&(i=M(["0%{opacity:0}100%{opacity:1}"])),i?p(["animation:"," ","s ease-in-out forwards;"],i,yr/1e3):""},eo={center:{vertical:function(e){return p(["top:","px;bottom:","px;left:50%;transform:translateX(-50%);",""],e.top,e.bottom,function(r){return S(r,"center","vertical")})},horizontal:function(e){return p(["left:","px;right:","px;top:50%;transform:translateY(-50%);",""],e.left,e.right,function(r){return S(r,"center","horizontal")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;",""],e.top,e.bottom,e.left,e.right,function(r){return S(r,"center","true")})},false:function(){return p(["top:50%;left:50%;transform:translate(-50%,-50%);",""],function(e){return S(e,"center","false")})}},top:{vertical:function(e){return p(["top:","px;bottom:","px;left:50%;transform:translate(-50%,0%);",""],e.top,e.bottom,function(r){return S(r,"top","vertical")})},horizontal:function(e){return p(["left:","px;right:","px;top:","px;transform:translateY(0);",""],e.left,e.right,e.top,function(r){return S(r,"top","horizontal")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;transform:translateY(0);",""],e.top,e.bottom,e.left,e.right,function(r){return S(r,"top","true")})},false:function(e){return p(["top:","px;left:50%;transform:translate(-50%,0);",""],e.top,function(r){return S(r,"top","false")})}},bottom:{vertical:function(e){return p(["top:","px;bottom:","px;left:50%;transform:translate(-50%,0);",""],e.top,e.bottom,function(r){return S(r,"bottom","vertical")})},horizontal:function(e){return p(["left:","px;right:","px;bottom:","px;transform:translateY(0);",""],e.left,e.top,e.bottom,function(r){return S(r,"bottom","horizontal")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;transform:translateY(0);",""],e.top,e.bottom,e.left,e.right,function(r){return S(r,"bottom","true")})},false:function(e){return p(["bottom:","px;left:50%;transform:translate(-50%,0);",""],e.bottom,function(r){return S(r,"bottom","false")})}},left:{vertical:function(e){return p(["top:","px;bottom:","px;left:","px;transform:translateX(0);",""],e.top,e.bottom,e.left,function(r){return S(r,"left","vertical")})},horizontal:function(e){return p(["left:","px;right:","px;top:50%;transform:translate(0,-50%);",""],e.left,e.right,function(r){return S(r,"left","horizontal")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(r){return S(r,"left","true")})},false:function(e){return p(["left:","px;top:50%;transform:translate(0,-50%);",""],e.left,function(r){return S(r,"left","false")})}},right:{vertical:function(e){return p(["top:","px;bottom:","px;right:","px;transform:translateX(0);",""],e.top,e.bottom,e.right,function(r){return S(r,"right","vertical")})},horizontal:function(e){return p(["left:","px;right:","px;top:50%;transform:translate(0,-50%);",""],e.left,e.right,function(r){return S(r,"right","horizontal")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(r){return S(r,"right","true")})},false:function(e){return p(["right:","px;top:50%;transform:translate(0,-50%);",""],e.right,function(r){return S(r,"right","false")})}},start:{vertical:function(e){return p(["top:","px;bottom:","px;inset-inline-start:","px;transform:translateX(0);",""],e.top,e.bottom,e.start,function(r){return S(r,"start","vertical")})},horizontal:function(e){return p(["inset-inline-start:","px;inset-inline-end:","px;top:50%;transform:translate(0,-50%);",""],e.start,e.end,function(r){return S(r,"start","horizontal")})},true:function(e){return p(["top:","px;bottom:","px;inset-inline-start:","px;inset-inline-end:","px;transform:translateX(0);",""],e.top,e.bottom,e.start,e.end,function(r){return S(r,"start","true")})},false:function(e){return p(["inset-inline-start:","px;top:50%;transform:translate(0,-50%);",""],e.start,function(r){return S(r,"start","false")})}},end:{vertical:function(e){return p(["top:","px;bottom:","px;inset-inline-end:","px;transform:translateX(0);",""],e.top,e.bottom,e.end,function(r){return S(r,"end","vertical")})},horizontal:function(e){return p(["inset-inline-start:","px;inset-inline-end:","px;top:50%;transform:translate(0,-50%);",""],e.start,e.end,function(r){return S(r,"end","horizontal")})},true:function(e){return p(["top:","px;bottom:","px;inset-inline-start:","px;inset-inline-end:","px;transform:translateX(0);",""],e.top,e.bottom,e.start,e.end,function(r){return S(r,"end","true")})},false:function(e){return p(["inset-inline-end:","px;top:50%;transform:translate(0,-50%);",""],e.end,function(r){return S(r,"end","false")})}},"top-right":{vertical:function(e){return p(["top:","px;bottom:","px;right:","px;transform:translateX(0);",";"],e.top,e.bottom,e.right,function(r){return S(r,"top","true")})},horizontal:function(e){return p(["left:","px;right:","px;top:0;transform:translateX(0);",";"],e.left,e.right,function(r){return S(r,"top","true")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",";"],e.top,e.bottom,e.left,e.right,function(r){return S(r,"top","true")})},false:function(e){return p(["top:","px;right:","px;transform:translateY(0);",";"],e.top,e.right,function(r){return S(r,"top","true")})}},"top-left":{vertical:function(e){return p(["top:","px;bottom:","px;left:","px;transform:translateX(0);",""],e.top,e.bottom,e.left,function(r){return S(r,"top","true")})},horizontal:function(e){return p(["left:","px;right:","px;top:0;transform:translateX(0);",""],e.left,e.right,function(r){return S(r,"top","true")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(r){return S(r,"top","true")})},false:function(e){return p(["top:","px;left:","px;transform:translateY(0);",""],e.top,e.left,function(r){return S(r,"top","true")})}},"bottom-right":{vertical:function(e){return p(["top:","px;bottom:","px;right:","px;transform:translateX(0);",""],e.top,e.bottom,e.right,function(r){return S(r,"bottom","true")})},horizontal:function(e){return p(["left:","px;right:","px;bottom:","px;transform:translateY(0);",""],e.left,e.right,e.bottom,function(r){return S(r,"bottom","true")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(r){return S(r,"bottom","true")})},false:function(e){return p(["bottom:","px;right:","px;transform:translateY(0);",""],e.bottom,e.right,function(r){return S(r,"bottom","true")})}},"bottom-left":{vertical:function(e){return p(["top:","px;bottom:","px;left:","px;transform:translateX(0);",""],e.top,e.bottom,e.left,function(r){return S(r,"bottom","true")})},horizontal:function(e){return p(["left:","px;right:","px;bottom:","px;transform:translateY(0);",""],e.left,e.right,e.bottom,function(r){return S(r,"bottom","true")})},true:function(e){return p(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],e.top,e.bottom,e.left,e.right,function(r){return S(r,"bottom","true")})},false:function(e){return p(["bottom:","px;left:","px;transform:translateY(0);",""],e.bottom,e.left,function(r){return S(r,"bottom","true")})}}},to=function(e,r,n,o){var i=[],a=e===!0?"medium":e,s=r.global[r.global.radius?"radius":"edgeSize"][a]||a,u=s.split(" ").length>1;return o==="none"&&!u&&r.layer.border.intelligentRounding===!0?n==="bottom"?i.push(p(["border-radius:"," "," 0 0;"],s,s)):n==="bottom-left"?i.push(p(["border-radius:0 "," 0 0;"],s)):n==="bottom-right"?i.push(p(["border-radius:"," 0 0 0;"],s)):n==="end"?i.push(p(["border-start-start-radius:",";border-end-start-radius:",";"],s,s)):n==="left"?i.push(p(["border-radius:0 "," "," 0;"],s,s)):n==="right"?i.push(p(["border-radius:"," 0 0 ",";"],s,s)):n==="start"?i.push(p(["border-end-end-radius:",";border-start-end-radius:",";"],s,s)):n==="top"?i.push(p(["border-radius:0 0 "," ",";"],s,s)):n==="top-left"?i.push(p(["border-radius:0 0 "," 0;"],s)):n==="top-right"?i.push(p(["border-radius:0 0 0 ",";"],s)):i.push(p(["border-radius:",";"],s)):i.push(p(["border-radius:",";"],s)),i},De={left:0,right:0,top:0,bottom:0},ro=p([""," max-height:",";max-width:",";",";",";"],function(t){return!t.modal&&t.position==="hidden"?vr:p(["position:",";"],t.modal||t.layerTarget?"absolute":"fixed")},function(t){return"calc(100% - "+Re(De,t.margin,t.theme,"top")+"px - "+Re(De,t.margin,t.theme,"bottom")+"px)"},function(t){return"calc(100% - "+Re(De,t.margin,t.theme,"left")+"px - "+Re(De,t.margin,t.theme,"right")+"px)"},function(t){return t.plain||t.full&&t.margin==="none"?"border-radius: 0;":to(t.theme.layer.border.radius,t.theme,t.position,t.margin)},function(t){return t.position!=="hidden"&&eo[t.position][t.full](Re(De,t.margin,t.theme),De)||""}),no=function(e){return p(["position:relative;max-height:none;max-width:none;border-radius:0;height:",";width:",";"],e.layerTarget?"100%":"100vh",e.layerTarget?"100%":"100vw")},oo=p(["box-shadow:",";"],function(t){return t.theme.global.elevation[t.theme.dark?"dark":"light"][t.theme.layer.container.elevation]}),io=ce.div.withConfig({shouldForwardProp:function(e){return mn(e)&&!["elevation"].includes(e)}}).withConfig({displayName:"StyledLayer__StyledContainer",componentId:"sc-rmtehz-2"})([""," display:flex;flex-direction:column;min-height:",";"," outline:none;pointer-events:all;z-index:",";"," "," ",";",";"],function(t){return t.modal?"":gr},function(t){return t.theme.global.size.xxsmall},function(t){return!t.plain&&(t.background||t.theme.layer.background)&&pt(t.background||t.theme.layer.background,t.theme)},function(t){return t.theme.layer.container.zIndex},function(t){return!t.plain&&t.theme.layer.container.elevation&&oo},ro,function(t){if(t.responsive&&t.theme.layer.responsiveBreakpoint){var e=t.theme.global.breakpoints[t.theme.layer.responsiveBreakpoint];if(e)return vt(e,no)}return""},function(t){return t.theme.layer.container&&t.theme.layer.container.extend}),ao=["background","children","full","id","margin","modal","onClickOutside","onEsc","plain","position","responsive","target"];function Oe(){return Oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oe.apply(null,arguments)}function so(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var uo=l.forwardRef(function(t,e){var r=t.background,n=t.children,o=t.full,i=o===void 0?!1:o,a=t.id,s=t.margin,u=s===void 0?"none":s,c=t.modal,d=c===void 0?!0:c,f=t.onClickOutside,v=t.onEsc,m=t.plain,y=t.position,g=y===void 0?"center":y,h=t.responsive,C=h===void 0?!0:h,D=t.target,w=so(t,ao),R=l.useContext(hr),Z=mt(),_=Z.theme,Y=Z.passThemeFlag,B=l.useContext(pr),V=l.useContext(vn),W=V.layer,ee=l.useRef(),ae=l.useRef(),G=l.useContext(Yt),K=l.useMemo(function(){return G.length},[G]),I=l.useMemo(function(){return[].concat(G,[K])},[G,K]),de=yn();l.useEffect(function(){var T=new Date,L=ae.current,te=g==="hidden";return te||de({type:"layerOpen",element:L}),function(){te||de({type:"layerClose",element:L,elapsed:new Date().getTime()-T.getTime()})}},[de,ae,g]),l.useEffect(function(){if(g!=="hidden"){var T=ae.current||ee.current||e.current;T&&T.scrollIntoView&&T.scrollIntoView();for(var L=document.activeElement;L&&L!==ee.current;)L=L.parentElement}},[d,g,e]),l.useEffect(function(){if(g!=="hidden"){var T=ae.current||ee.current||e.current;T&&T.scrollIntoView&&T.scrollIntoView()}},[g,e]),l.useEffect(function(){var T=function(A){for(var F=null,X=A.composed&&A.composedPath()[0]||A.target;F===null&&X&&X!==document&&!(X instanceof ShadowRoot);){var O=X.getAttribute("data-g-portal-id");O!==null&&O!==""?F=parseInt(O,10):X=X.parentNode}(F===null||G.indexOf(F)!==-1)&&X!==null&&f(A)};if(f&&document.addEventListener("mousedown",T),D){var L=function(){var A=window.innerWidth,F=window.innerHeight,X=Dn(D),O=ae.current;if(O&&X){O.style.left="",O.style.top="",O.style.bottom="",O.style.width="";var U=X.getBoundingClientRect(),re=O.getBoundingClientRect();O.style.left=U.left+"px",O.style.right=A-U.right+"px",O.style.top=U.top+"px",O.style.bottom=F-U.bottom+"px",O.style.maxHeight=U.height,O.style.maxWidth=Math.min(re.width,A)}};return L(),window.addEventListener("resize",L),window.addEventListener("scroll",L,!0),function(){window.removeEventListener("resize",L),window.removeEventListener("scroll",L,!0),f&&document.removeEventListener("mousedown",T)}}return function(){f&&document.removeEventListener("mousedown",T)}},[R,D,f,G,K]);var q=N.createElement(io,Oe({ref:e||ee,background:r,elevation:_.layer.container.elevation,id:W&&W.singleId?a+"__container":a,full:i,margin:u,modal:d},Y,w,{position:g,plain:m,responsive:C,layerTarget:D,dir:_.dir,"data-g-portal-id":K}),n);q=N.createElement(Jn,Oe({ref:ae,id:a,plain:m,position:g,responsive:C,layerTarget:D,tabIndex:"-1",dir:_.dir},Y),d&&N.createElement(Qn,Oe({plain:m,responsive:C,onMouseDown:f},Y)),q),v&&(q=N.createElement(fr,{onEsc:v?function(T){T.stopPropagation(),v(T)}:void 0,target:d===!1?"document":void 0},q));var j=l.useMemo(function(){var T=Sn(_.layer.background,_);return Oe({},_,{dark:T})},[_]);if(_.layer.background){var E=j.dark;E!==void 0&&E!==_.dark&&(q=N.createElement(bn.Provider,{value:j},q))}q=N.createElement(Yt.Provider,{value:I},q);var P=C&&B===_.layer.responsiveBreakpoint;return(d||P)&&(q=N.createElement(xn,{hidden:g==="hidden",restrictScroll:!D&&(d||P)?!0:void 0,trapFocus:!0},q)),q}),lo={},co=lo;function ut(){return ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ut.apply(null,arguments)}var St=l.forwardRef(function(t,e){var r=t.animate,n=t.animation,o=t.targetChildPosition,i=l.useState(),a=i[0],s=i[1];l.useEffect(function(){return s(document.activeElement)},[]);var u=l.useState(),c=u[0],d=u[1],f=l.useContext(hr);return l.useEffect(function(){return d(Tn(f,o))},[f,o]),ot(function(){return function(){if(a&&(a.focus?setTimeout(function(){return a.focus()},0):a.parentNode&&a.parentNode.focus&&a.parentNode.focus()),c){var v=n!==void 0?n:r;if(v!==!1){var m=c.cloneNode(!0);m.id="layerClone",f.appendChild(m);var y=m.querySelector('[class*="StyledLayer__StyledContainer"]');y&&y.style&&(y.style.animationDirection="reverse"),setTimeout(function(){var g=f.getRootNode().getElementById("layerClone");g&&(f.contains(g)&&f.removeChild(g),c.remove())},yr)}else f.contains(c)&&f.removeChild(c)}}},[r,n,f,c,a]),c?On.createPortal(N.createElement(uo,ut({ref:e},t)),c):null});St.displayName="Layer";St.propTypes=co;const Sr=l.createContext({dragDropManager:void 0});function oe(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Kt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Jt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Qt={INIT:"@@redux/INIT"+Jt(),REPLACE:"@@redux/REPLACE"+Jt()};function fo(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function br(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(oe(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(oe(1));return r(br)(t,e)}if(typeof t!="function")throw new Error(oe(2));var o=t,i=e,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function d(){if(u)throw new Error(oe(3));return i}function f(g){if(typeof g!="function")throw new Error(oe(4));if(u)throw new Error(oe(5));var h=!0;return c(),s.push(g),function(){if(h){if(u)throw new Error(oe(6));h=!1,c();var D=s.indexOf(g);s.splice(D,1),a=null}}}function v(g){if(!fo(g))throw new Error(oe(7));if(typeof g.type>"u")throw new Error(oe(8));if(u)throw new Error(oe(9));try{u=!0,i=o(i,g)}finally{u=!1}for(var h=a=s,C=0;C<h.length;C++){var D=h[C];D()}return g}function m(g){if(typeof g!="function")throw new Error(oe(10));o=g,v({type:Qt.REPLACE})}function y(){var g,h=f;return g={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(oe(11));function w(){D.next&&D.next(d())}w();var R=h(w);return{unsubscribe:R}}},g[Kt]=function(){return this},g}return v({type:Qt.INIT}),n={dispatch:v,subscribe:f,getState:d,replaceReducer:m},n[Kt]=y,n}function b(t,e,...r){if(go()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;n=new Error(e.replace(/%s/g,function(){return r[o++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function go(){return typeof process<"u"&&!0}function ho(t,e,r){return e.split(".").reduce((n,o)=>n&&n[o]?n[o]:r||null,t)}function po(t,e){return t.filter(r=>r!==e)}function xr(t){return typeof t=="object"}function mo(t,e){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};t.forEach(n),e.forEach(n);const o=[];return r.forEach((i,a)=>{i===1&&o.push(a)}),o}function vo(t,e){return t.filter(r=>e.indexOf(r)>-1)}const bt="dnd-core/INIT_COORDS",$e="dnd-core/BEGIN_DRAG",xt="dnd-core/PUBLISH_DRAG_SOURCE",Be="dnd-core/HOVER",Xe="dnd-core/DROP",Ue="dnd-core/END_DRAG";function Zt(t,e){return{type:bt,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const yo={type:bt,payload:{clientOffset:null,sourceClientOffset:null}};function So(t){return function(r=[],n={publishSource:!0}){const{publishSource:o=!0,clientOffset:i,getSourceClientOffset:a}=n,s=t.getMonitor(),u=t.getRegistry();t.dispatch(Zt(i)),bo(r,s,u);const c=To(r,s);if(c==null){t.dispatch(yo);return}let d=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");xo(a),d=a(c)}t.dispatch(Zt(i,d));const v=u.getSource(c).beginDrag(s,c);if(v==null)return;Do(v),u.pinSource(c);const m=u.getSourceType(c);return{type:$e,payload:{itemType:m,item:v,sourceId:c,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!o}}}}function bo(t,e,r){b(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){b(r.getSource(n),"Expected sourceIds to be registered.")})}function xo(t){b(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Do(t){b(xr(t),"Item must be an object.")}function To(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function Oo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){Oo(t,o,r[o])})}return t}function wo(t){return function(r={}){const n=t.getMonitor(),o=t.getRegistry();Io(n),Ro(n).forEach((a,s)=>{const u=Eo(a,s,o,n),c={type:Xe,payload:{dropResult:Co({},r,u)}};t.dispatch(c)})}}function Io(t){b(t.isDragging(),"Cannot call drop while not dragging."),b(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Eo(t,e,r,n){const o=r.getTarget(t);let i=o?o.drop(n,t):void 0;return Po(i),typeof i>"u"&&(i=e===0?{}:n.getDropResult()),i}function Po(t){b(typeof t>"u"||xr(t),"Drop result must either be an object or undefined.")}function Ro(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function ko(t){return function(){const r=t.getMonitor(),n=t.getRegistry();Mo(r);const o=r.getSourceId();return o!=null&&(n.getSource(o,!0).endDrag(r,o),n.unpinSource()),{type:Ue}}}function Mo(t){b(t.isDragging(),"Cannot call endDrag while not dragging.")}function lt(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function No(t){return function(r,{clientOffset:n}={}){_o(r);const o=r.slice(0),i=t.getMonitor(),a=t.getRegistry(),s=i.getItemType();return jo(o,a,s),Lo(o,i,a),Ao(o,i,a),{type:Be,payload:{targetIds:o,clientOffset:n||null}}}}function _o(t){b(Array.isArray(t),"Expected targetIds to be an array.")}function Lo(t,e,r){b(e.isDragging(),"Cannot call hover while not dragging."),b(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const o=t[n];b(t.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(o);b(i,"Expected targetIds to be registered.")}}function jo(t,e,r){for(let n=t.length-1;n>=0;n--){const o=t[n],i=e.getTargetType(o);lt(i,r)||t.splice(n,1)}}function Ao(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function zo(t){return function(){if(t.getMonitor().isDragging())return{type:xt}}}function Fo(t){return{beginDrag:So(t),publishDragSource:zo(t),hover:No(t),drop:wo(t),endDrag:ko(t)}}class Ho{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(i){return(...a)=>{const s=i.apply(e,a);typeof s<"u"&&r(s)}}const o=Fo(this);return Object.keys(o).reduce((i,a)=>{const s=o[a];return i[a]=n(s),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function $o(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Dr(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bo(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Dr($o(e,n),r)}function Xo(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Dr(e,r)}const ke=[],Dt=[];ke.__IS_NONE__=!0;Dt.__IS_ALL__=!0;function Uo(t,e){return t===ke?!1:t===Dt||typeof e>"u"?!0:vo(e,t).length>0}class Vo{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;b(typeof e=="function","listener must be a function."),b(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const i=()=>{const a=this.store.getState(),s=a.stateId;try{s===o||s===o+1&&!Uo(a.dirtyHandlerIds,n)||e()}finally{o=s}};return this.store.subscribe(i)}subscribeToOffsetChange(e){b(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const o=this.store.getState().dragOffset;o!==r&&(r=o,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return b(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(b(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),o=this.getItemType();return lt(n,o)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(b(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),o=this.getItemType();return n!==o?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!lt(o,i))return!1;const a=this.getTargetIds();if(!a.length)return!1;const s=a.indexOf(e);return n?s===a.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Bo(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Xo(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const er=typeof global<"u"?global:self,Tr=er.MutationObserver||er.WebKitMutationObserver;function Or(t){return function(){const r=setTimeout(o,0),n=setInterval(o,50);function o(){clearTimeout(r),clearInterval(n),t()}}}function qo(t){let e=1;const r=new Tr(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Yo=typeof Tr=="function"?qo:Or;class Wo{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,o=e.length-this.index;n<o;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Yo(this.flush),this.requestErrorThrow=Or(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Go{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Ko{create(e){const r=this.freeTasks,n=r.length?r.pop():new Go(this.onError,o=>r[r.length]=o);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Cr=new Wo,Jo=new Ko(Cr.registerPendingError);function Qo(t){Cr.enqueueTask(Jo.create(t))}const Tt="dnd-core/ADD_SOURCE",Ot="dnd-core/ADD_TARGET",Ct="dnd-core/REMOVE_SOURCE",Ve="dnd-core/REMOVE_TARGET";function Zo(t){return{type:Tt,payload:{sourceId:t}}}function ei(t){return{type:Ot,payload:{targetId:t}}}function ti(t){return{type:Ct,payload:{sourceId:t}}}function ri(t){return{type:Ve,payload:{targetId:t}}}function ni(t){b(typeof t.canDrag=="function","Expected canDrag to be a function."),b(typeof t.beginDrag=="function","Expected beginDrag to be a function."),b(typeof t.endDrag=="function","Expected endDrag to be a function.")}function oi(t){b(typeof t.canDrop=="function","Expected canDrop to be a function."),b(typeof t.hover=="function","Expected hover to be a function."),b(typeof t.drop=="function","Expected beginDrag to be a function.")}function ct(t,e){if(e&&Array.isArray(t)){t.forEach(r=>ct(r,!1));return}b(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ie;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(ie||(ie={}));let ii=0;function ai(){return ii++}function si(t){const e=ai().toString();switch(t){case ie.SOURCE:return`S${e}`;case ie.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function tr(t){switch(t[0]){case"S":return ie.SOURCE;case"T":return ie.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function rr(t,e){const r=t.entries();let n=!1;do{const{done:o,value:[,i]}=r.next();if(i===e)return!0;n=!!o}while(!n);return!1}class ui{addSource(e,r){ct(e),ni(r);const n=this.addHandler(ie.SOURCE,e,r);return this.store.dispatch(Zo(n)),n}addTarget(e,r){ct(e,!0),oi(r);const n=this.addHandler(ie.TARGET,e,r);return this.store.dispatch(ei(n)),n}containsHandler(e){return rr(this.dragSources,e)||rr(this.dropTargets,e)}getSource(e,r=!1){return b(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return b(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return b(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return b(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return tr(e)===ie.SOURCE}isTargetId(e){return tr(e)===ie.TARGET}removeSource(e){b(this.getSource(e),"Expected an existing source."),this.store.dispatch(ti(e)),Qo(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){b(this.getTarget(e),"Expected an existing target."),this.store.dispatch(ri(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);b(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){b(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const o=si(e);return this.types.set(o,r),e===ie.SOURCE?this.dragSources.set(o,n):e===ie.TARGET&&this.dropTargets.set(o,n),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const li=(t,e)=>t===e;function ci(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function di(t,e,r=li){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function fi(t=ke,e){switch(e.type){case Be:break;case Tt:case Ot:case Ve:case Ct:return ke;case $e:case xt:case Ue:case Xe:default:return Dt}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,o=mo(r,n);if(!(o.length>0||!di(r,n)))return ke;const a=n[n.length-1],s=r[r.length-1];return a!==s&&(a&&o.push(a),s&&o.push(s)),o}function gi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){gi(t,o,r[o])})}return t}const nr={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function pi(t=nr,e){const{payload:r}=e;switch(e.type){case bt:case $e:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Be:return ci(t.clientOffset,r.clientOffset)?t:hi({},t,{clientOffset:r.clientOffset});case Ue:case Xe:return nr;default:return t}}function mi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){mi(t,o,r[o])})}return t}const vi={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function yi(t=vi,e){const{payload:r}=e;switch(e.type){case $e:return Te({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case xt:return Te({},t,{isSourcePublic:!0});case Be:return Te({},t,{targetIds:r.targetIds});case Ve:return t.targetIds.indexOf(r.targetId)===-1?t:Te({},t,{targetIds:po(t.targetIds,r.targetId)});case Xe:return Te({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Ue:return Te({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Si(t=0,e){switch(e.type){case Tt:case Ot:return t+1;case Ct:case Ve:return t-1;default:return t}}function bi(t=0){return t+1}function xi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){xi(t,o,r[o])})}return t}function Ti(t={},e){return{dirtyHandlerIds:fi(t.dirtyHandlerIds,{type:e.type,payload:Di({},e.payload,{prevTargetIds:ho(t,"dragOperation.targetIds",[])})}),dragOffset:pi(t.dragOffset,e),refCount:Si(t.refCount,e),dragOperation:yi(t.dragOperation,e),stateId:bi(t.stateId)}}function Oi(t,e=void 0,r={},n=!1){const o=Ci(n),i=new Vo(o,new ui(o)),a=new Ho(o,i),s=t(a,e,r);return a.receiveBackend(s),a}function Ci(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return br(Ti,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function wi(t,e){if(t==null)return{};var r=Ii(t,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ii(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}let or=0;const He=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Ei=l.memo(function(e){var{children:r}=e,n=wi(e,["children"]);const[o,i]=Pi(n);return l.useEffect(()=>{if(i){const a=wr();return++or,()=>{--or===0&&(a[He]=null)}}},[]),x.jsx(Sr.Provider,{value:o,children:r})});function Pi(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Ri(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Ri(t,e=wr(),r,n){const o=e;return o[He]||(o[He]={dragDropManager:Oi(t,e,r,n)}),o[He]}function wr(){return typeof global<"u"?global:window}var Je,ir;function ki(){return ir||(ir=1,Je=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var a=i[o];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}),Je}var Mi=ki();const Ni=Cn(Mi),me=typeof window<"u"?l.useLayoutEffect:l.useEffect;function _i(t,e,r){const[n,o]=l.useState(()=>e(t)),i=l.useCallback(()=>{const a=e(t);Ni(n,a)||(o(a),r&&r())},[n,t,r]);return me(i),[n,i]}function Li(t,e,r){const[n,o]=_i(t,e,r);return me(function(){const a=t.getHandlerId();if(a!=null)return t.subscribeToStateChange(o,{handlerIds:[a]})},[t,o]),n}function Ir(t,e,r){return Li(e,t||(()=>({})),()=>r.reconnect())}function Er(t,e){const r=[];return typeof t!="function"&&r.push(t),l.useMemo(()=>typeof t=="function"?t():t,r)}function ji(t){return l.useMemo(()=>t.hooks.dragSource(),[t])}function Ai(t){return l.useMemo(()=>t.hooks.dragPreview(),[t])}let Qe=!1,Ze=!1;class zi{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){b(!Qe,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Qe=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Qe=!1}}isDragging(){if(!this.sourceId)return!1;b(!Ze,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ze=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ze=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let et=!1;class Fi{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;b(!et,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return et=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{et=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Hi(t,e,r){const n=r.getRegistry(),o=n.addTarget(t,e);return[o,()=>n.removeTarget(o)]}function $i(t,e,r){const n=r.getRegistry(),o=n.addSource(t,e);return[o,()=>n.removeSource(o)]}function dt(t,e,r,n){let o;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<i.length;u++){const c=i[u];if(!s(c))return!1;const d=t[c],f=e[c];if(o=void 0,o===!1||o===void 0&&d!==f)return!1}return!0}function ft(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bi(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Xi(t){return(e=null,r=null)=>{if(!l.isValidElement(e)){const i=e;return t(i,r),i}const n=e;return Bi(n),Ui(n,r?i=>t(i,r):t)}}function Pr(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const o=Xi(n);e[r]=()=>o}}),e}function ar(t,e){typeof t=="function"?t(e):t.current=e}function Ui(t,e){const r=t.ref;return b(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?l.cloneElement(t,{ref:n=>{ar(r,n),ar(e,n)}}):l.cloneElement(t,{ref:e})}class Vi{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!dt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!dt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Pr({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,ft(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,ft(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class qi{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!dt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Pr({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,ft(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function we(){const{dragDropManager:t}=l.useContext(Sr);return b(t!=null,"Expected drag drop context"),t}function Yi(t,e){const r=we(),n=l.useMemo(()=>new Vi(r.getBackend()),[r]);return me(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),me(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Wi(){const t=we();return l.useMemo(()=>new zi(t),[t])}class Gi{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,o=this.monitor,{isDragging:i}=n;return i?i(o):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:o}=e;o&&o(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function Ki(t,e,r){const n=l.useMemo(()=>new Gi(t,e,r),[e,r]);return l.useEffect(()=>{n.spec=t},[t]),n}function Ji(t){return l.useMemo(()=>{const e=t.type;return b(e!=null,"spec.type must be defined"),e},[t])}function Qi(t,e,r){const n=we(),o=Ki(t,e,r),i=Ji(t);me(function(){if(i!=null){const[s,u]=$i(i,o,n);return e.receiveHandlerId(s),r.receiveHandlerId(s),u}},[n,e,r,o,i])}function Zi(t,e){const r=Er(t);b(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Wi(),o=Yi(r.options,r.previewOptions);return Qi(r,n,o),[Ir(r.collect,n,o),ji(o),Ai(o)]}function ea(t){return l.useMemo(()=>t.hooks.dropTarget(),[t])}function ta(t){const e=we(),r=l.useMemo(()=>new qi(e.getBackend()),[e]);return me(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function ra(){const t=we();return l.useMemo(()=>new Fi(t),[t])}function na(t){const{accept:e}=t;return l.useMemo(()=>(b(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class oa{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function ia(t,e){const r=l.useMemo(()=>new oa(t,e),[e]);return l.useEffect(()=>{r.spec=t},[t]),r}function aa(t,e,r){const n=we(),o=ia(t,e),i=na(t);me(function(){const[s,u]=Hi(i,o,n);return e.receiveHandlerId(s),r.receiveHandlerId(s),u},[n,e,o,r,i.map(a=>a.toString()).join("|")])}function Rr(t,e){const r=Er(t),n=ra(),o=ta(r.options);return aa(r,n,o),[Ir(r.collect,n,o),ea(o)]}function kr(t){let e=null;return()=>(e==null&&(e=t()),e)}function sa(t,e){return t.filter(r=>r!==e)}function ua(t,e){const r=new Set,n=i=>r.add(i);t.forEach(n),e.forEach(n);const o=[];return r.forEach(i=>o.push(i)),o}class la{enter(e){const r=this.entered.length,n=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=ua(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=sa(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class ca{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const o=this.config.exposeProperties[n];o!=null&&(r[n]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Mr="__NATIVE_FILE__",Nr="__NATIVE_URL__",_r="__NATIVE_TEXT__",Lr="__NATIVE_HTML__",sr=Object.freeze(Object.defineProperty({__proto__:null,FILE:Mr,HTML:Lr,TEXT:_r,URL:Nr},Symbol.toStringTag,{value:"Module"}));function tt(t,e,r){const n=e.reduce((o,i)=>o||t.getData(i),"");return n??r}const gt={[Mr]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Lr]:{exposeProperties:{html:(t,e)=>tt(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Nr]:{exposeProperties:{urls:(t,e)=>tt(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[_r]:{exposeProperties:{text:(t,e)=>tt(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function da(t,e){const r=gt[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new ca(r);return n.loadDataTransfer(e),n}function rt(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(gt).filter(r=>{const n=gt[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const fa=kr(()=>/firefox/i.test(navigator.userAgent)),jr=kr(()=>!!window.safari);class ur{interpolate(e){const{xs:r,ys:n,c1s:o,c2s:i,c3s:a}=this;let s=r.length-1;if(e===r[s])return n[s];let u=0,c=a.length-1,d;for(;u<=c;){d=Math.floor(.5*(u+c));const m=r[d];if(m<e)u=d+1;else if(m>e)c=d-1;else return n[d]}s=Math.max(0,c);const f=e-r[s],v=f*f;return n[s]+o[s]*f+i[s]*v+a[s]*f*v}constructor(e,r){const{length:n}=e,o=[];for(let m=0;m<n;m++)o.push(m);o.sort((m,y)=>e[m]<e[y]?-1:1);const i=[],a=[];let s,u;for(let m=0;m<n-1;m++)s=e[m+1]-e[m],u=r[m+1]-r[m],i.push(s),a.push(u/s);const c=[a[0]];for(let m=0;m<i.length-1;m++){const y=a[m],g=a[m+1];if(y*g<=0)c.push(0);else{s=i[m];const h=i[m+1],C=s+h;c.push(3*C/((C+h)/y+(C+s)/g))}}c.push(a[a.length-1]);const d=[],f=[];let v;for(let m=0;m<c.length-1;m++){v=a[m];const y=c[m],g=1/i[m],h=y+c[m+1]-v-v;d.push((v-y-h)*g),f.push(h*g*g)}this.xs=e,this.ys=r,this.c1s=c,this.c2s=d,this.c3s=f}}const ga=1;function Ar(t){const e=t.nodeType===ga?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function Ae(t){return{x:t.clientX,y:t.clientY}}function ha(t){var e;return t.nodeName==="IMG"&&(fa()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function pa(t,e,r,n){let o=t?e.width:r,i=t?e.height:n;return jr()&&t&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}function ma(t,e,r,n,o){const i=ha(e),s=Ar(i?t:e),u={x:r.x-s.x,y:r.y-s.y},{offsetWidth:c,offsetHeight:d}=t,{anchorX:f,anchorY:v}=n,{dragPreviewWidth:m,dragPreviewHeight:y}=pa(i,e,c,d),g=()=>{let _=new ur([0,.5,1],[u.y,u.y/d*y,u.y+y-d]).interpolate(v);return jr()&&i&&(_+=(window.devicePixelRatio-1)*y),_},h=()=>new ur([0,.5,1],[u.x,u.x/c*m,u.x+m-c]).interpolate(f),{offsetX:C,offsetY:D}=o,w=C===0||C,R=D===0||D;return{x:w?C:h(),y:R?D:g()}}class va{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function ya(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){ya(t,o,r[o])})}return t}class Sa{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const o=a=>this.handleDragStart(a,e),i=a=>this.handleSelectStart(a);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",o),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",o),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=a=>this.handleDragEnter(a,e),o=a=>this.handleDragOver(a,e),i=a=>this.handleDrop(a,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",o),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",o),r.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return lr({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return lr({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(sr).some(r=>sr[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=da(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const i=this.sourceNodes.get(o);return i&&Ar(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const a=Ae(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:s}=o,u=rt(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){const d=this.monitor.getSourceId(),f=this.sourceNodes.get(d),v=this.sourcePreviewNodes.get(d)||f;if(v){const{anchorX:m,anchorY:y,offsetX:g,offsetY:h}=this.getCurrentSourcePreviewNodeOptions(),w=ma(f,v,a,{anchorX:m,anchorY:y},{offsetX:g,offsetY:h});s.setDragImage(v,w.x,w.y)}}try{s==null||s.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(s&&!s.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:s}=o,u=rt(s);u&&this.beginDragNativeItem(u,s)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Ae(o)}),i.some(s=>this.monitor.canDropOnTarget(s))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Ae(o),this.scheduleHover(i),(i||[]).some(s=>this.monitor.canDropOnTarget(s))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;o.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}else rt(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Ae(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const i=o.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(o.preventDefault(),i.dragDrop()))},this.options=new va(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new la(this.isNodeInDocument)}}const ba=function(e,r,n){return new Sa(e,r,n)},zr=()=>{const[t,e]=l.useState([]),r=l.useCallback((i,a="success",s=5e3)=>{const u=Date.now();e(c=>[...c,{id:u,message:i,type:a}]),setTimeout(()=>{e(c=>c.filter(d=>d.id!==u))},s)},[]),n=i=>{switch(i){case"error":return"status-critical";case"info":return"#2196f3";case"success":default:return"status-ok"}};return{showToast:r,ToastContainer:()=>x.jsx($,{style:{position:"fixed",top:"1rem",right:"1rem",zIndex:1e3,pointerEvents:"none"},children:x.jsx($,{gap:"small",children:t.map(({id:i,message:a,type:s})=>x.jsx($,{background:n(s),round:"small",pad:{vertical:"small",horizontal:"medium"},elevation:"medium",animation:"fadeIn",style:{opacity:.5,minWidth:"200px"},children:x.jsx(Ce,{weight:"bold",color:"white",children:a})},i))})})}},ht="TODO",xa=[{title:"Pending",id:"pending"},{title:"Completed",id:"completed"}],ze="https://dummyjson.com/todos",Da=5,nt={"Content-Type":"application/json"},Ta=({todo:t,column:e,handleDeleteClick:r,handleEditClick:n,isFocused:o})=>{const i=l.useRef(),[a,s]=l.useState(!1),[,u]=Rr({accept:ht}),[,c]=Zi({type:ht,item:{...t,column:e}});c(u(i));const d=()=>n(t),f=()=>r(t);return l.useEffect(()=>{if(o&&i.current){i.current.scrollIntoView({behavior:"smooth",block:"center"}),s(!0);const v=setTimeout(()=>{s(!1)},5e3),m=y=>{i.current&&!i.current.contains(y.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{clearTimeout(v),document.removeEventListener("mousedown",m)}}},[o]),x.jsx($,{ref:i,pad:"small",elevation:"small",round:"4px",flex:{shrink:0},className:`kanban-card ${a?"highlight":""}`,children:x.jsxs($,{gap:"small",children:[x.jsx(Ce,{truncate:"tip",children:t.todo}),x.jsxs($,{direction:"row",wrap:!0,gap:"small",justify:"end",children:[x.jsx(pe,{size:"small",label:"Edit",onClick:d}),x.jsx(pe,{size:"small",label:"Delete",onClick:f})]})]})})},Me=(t,e)=>t.todo.toLowerCase().localeCompare(e.todo.toLowerCase()),Fe=async t=>{if(!t.ok){let e={};try{e=await t.json()}catch(n){console.log("Failed to parse error body:",n)}const r=new Error(`API error: ${t.status} ${t.statusText} - ${e.message||"Unknown error"}`);throw r.status=t.status,r.statusText=t.statusText,r.details=e,r}try{return await t.json()}catch{return{}}},Ne={async fetchAll(){const t=await fetch(ze);return(await Fe(t)).todos},async create(t,e="pending"){const n={todo:t,completed:e==="completed",userId:Da},o=await fetch(`${ze}/add`,{method:"POST",headers:nt,body:JSON.stringify(n)});return Fe(o)},async update(t,e,r){const n=await fetch(`${ze}/${t}`,{method:"PUT",headers:nt,body:JSON.stringify({todo:e,completed:r})});return Fe(n)},async delete(t){const e=await fetch(`${ze}/${t}`,{method:"DELETE",headers:nt});return await Fe(e),!0}},Oa=({layer:t,columnId:e,setColumns:r,showToast:n,handleClose:o,setFocusedTodoId:i})=>{var y;const[a,s]=l.useState(((y=t==null?void 0:t.data)==null?void 0:y.todo)??""),[u,c]=l.useState(!1),d=g=>g?"completed":"pending",f=async g=>{const h=d(g.completed);r(C=>({...C,[h]:C[h].map(D=>D.id===g.id?g:D).sort(Me)})),await Ne.update(g.id,g.todo,g.completed),n("Task updated successfully"),i(g==null?void 0:g.id)},v=async()=>{const h={...await Ne.create(a,e),id:Date.now(),completed:e==="completed"},C=d(h.completed);r(D=>({...D,[C]:[...D[C],h].sort(Me)})),n(`${h.completed?"Completed":"Pending"} task added successfully`),i(h==null?void 0:h.id)};return{inputText:a,setInputText:s,isSubmitting:u,onSubmit:async()=>{var h,C,D,w;c(!0);const g={...t==null?void 0:t.data,todo:a};try{(h=t==null?void 0:t.data)!=null&&h.id?await f(g):await v()}catch(R){R.status===404&&((D=(C=R.details)==null?void 0:C.message)!=null&&D.includes("not found"))?n("Task updated locally  API can't persist added task updates","info"):n(((w=R==null?void 0:R.details)==null?void 0:w.message)||"Failed to update task","error")}finally{c(!1),o()}}}};function Ca({handleClose:t,layer:e,columnId:r,setColumns:n,showToast:o,setFocusedTodoId:i}){var d;const{inputText:a,setInputText:s,isSubmitting:u,onSubmit:c}=Oa({layer:e,columnId:r,setColumns:n,showToast:o,handleClose:t,setFocusedTodoId:i});return x.jsx(St,{onEsc:t,onClickOutside:t,responsive:!1,children:x.jsxs($,{width:"medium",pad:"small",gap:"medium",children:[x.jsxs(Ce,{weight:"bold",size:"large",children:[(d=e==null?void 0:e.data)!=null&&d.id?"Edit":"Add"," Task"]}),x.jsx(yt,{placeholder:"Enter your task...",value:a,onChange:f=>s(f.target.value),a11yTitle:"Task input"}),x.jsxs($,{direction:"row",justify:"end",gap:"small",children:[x.jsx(pe,{label:"Cancel",onClick:t,a11yTitle:"Cancel task input"}),x.jsx(pe,{label:u?"Submitting...":"Submit",primary:!0,onClick:c,disabled:!a.trim()||u||e.data.todo===a,a11yTitle:"Submit task"})]})]})})}const wa=({title:t,todos:e,columnId:r,moveTodo:n,setColumns:o,isLoading:i,setFocusedTodoId:a,focusedTodoId:s})=>{const[u,c]=l.useState({show:!1,data:{}}),{showToast:d,ToastContainer:f}=zr(),[{canDrop:v,isOver:m,draggedItem:y},g]=Rr({accept:ht,drop:R=>{n(R,r)},collect:R=>({isOver:R.isOver(),canDrop:R.canDrop(),draggedItem:R.getItem()})}),h=()=>{c({show:!1,data:{}})},C=()=>{c({show:!0,data:{}})},D=R=>{c({show:!0,data:{...R}})},w=async R=>{var Z,_,Y;try{o(B=>{const V=R.completed?"completed":"pending",W=B[V].filter(ee=>ee.id!==R.id);return{...B,[V]:W}}),await Ne.delete(R.id),d("Task deleted successfully")}catch(B){B.status===404&&((_=(Z=B.details)==null?void 0:Z.message)!=null&&_.includes("not found"))?d("Task removed locally  dummy API can't persist deletes","info"):d(((Y=B==null?void 0:B.details)==null?void 0:Y.message)||"Failed to delete task","error")}};return x.jsxs(x.Fragment,{children:[x.jsx(f,{}),x.jsxs($,{ref:g,gap:"small",background:"#f4f4f4",round:"4px",fill:!0,children:[x.jsxs($,{direction:"row",align:"center",pad:"small",justify:"between",gap:"small",children:[x.jsx(Ce,{size:"large",truncate:"tip",weight:"bold",children:t}),v&&m&&(y==null?void 0:y.column)!==r&&x.jsx($,{pad:{horizontal:"small"},children:x.jsx(Ce,{color:"status-ok",weight:"bold",children:"Release to move task here"})}),x.jsx(pe,{label:"Add",onClick:C})]}),i?x.jsx($,{fill:!0,align:"center",justify:"center",children:x.jsx(wn,{})}):x.jsx($,{fill:!0,overflow:"auto",pad:"small",gap:"small",children:e.map(R=>x.jsx(Ta,{todo:R,column:r,moveTodo:n,setColumns:o,handleDeleteClick:w,handleEditClick:D,isFocused:R.id===s},R.id))})]}),(u==null?void 0:u.show)&&x.jsx(Ca,{handleClose:h,layer:u,columnId:r,setColumns:o,showToast:d,setFocusedTodoId:a,focusedTodoId:s})]})},Ia=t=>{const[e,r]=l.useState({pending:[],completed:[]}),[n,o]=l.useState(!0),[i,a]=l.useState(null);return l.useEffect(()=>{(async()=>{var c;try{const d=await Ne.fetchAll();r({pending:d.filter(f=>!f.completed).sort(Me),completed:d.filter(f=>f.completed).sort(Me)})}catch(d){t(((c=d==null?void 0:d.details)==null?void 0:c.message)||"Unable to fetch todos","error")}finally{o(!1)}})()},[t]),{columns:e,isLoading:n,moveTodo:async(u,c)=>{var d;if(u.column!==c)try{r(f=>{const v=f[u.column].filter(y=>y.id!==u.id),m=[...f[c],{...u,completed:c==="completed"}].sort(Me);return{...f,[u.column]:v,[c]:m}}),a(u.id),t("Task status updated successfully"),await Ne.update(u.id,u.todo,c==="completed")}catch(f){f.status===404&&f.details.message.includes("not found")?t("Task status updated locally  backend cannot persist this change.","info"):t(((d=f==null?void 0:f.details)==null?void 0:d.message)||"Failed to update task status","error")}},setColumns:r,setFocusedTodoId:a,focusedTodoId:i}},Ra=()=>{const{ToastContainer:t,showToast:e}=zr(),{columns:r,isLoading:n,moveTodo:o,setColumns:i,focusedTodoId:a,setFocusedTodoId:s}=Ia(e),u=l.useContext(pr);return x.jsxs($,{fill:!0,children:[x.jsx(t,{}),x.jsx(Ce,{size:u==="small"?"24px":"48px",weight:"bold",textAlign:"center",margin:{vertical:"medium",horizontal:"small"},children:"React Kanban Board"}),x.jsx(Ei,{backend:ba,children:x.jsx($,{pad:{vertical:"medium",horizontal:u==="small"?"small":"100px"},gap:"medium",direction:"row",align:"start",justify:u==="small"?"start":"center",fill:!0,children:xa.map(({id:c,title:d})=>x.jsx(wa,{title:d,todos:r[c],columnId:c,moveTodo:o,setColumns:i,isLoading:n,setFocusedTodoId:s,focusedTodoId:a},c))})})]})};export{Ra as default};
